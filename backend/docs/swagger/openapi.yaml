{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/api/v1/users/update/status":{"put":{"tags":["user-endpoint"],"operationId":"updateUserStatusByEmail","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplicationUserDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplicationUserResponse"}}}}}}},"/api/v1/users/registration":{"post":{"tags":["user-endpoint"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreateRequest"}}},"required":true},"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/messages":{"get":{"tags":["message-endpoint"],"summary":"Get list of messages without details","operationId":"findAll","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SimpleMessageDto"}}}}}},"security":[{"apiKey":[]}]},"post":{"tags":["message-endpoint"],"summary":"Publish a new message","operationId":"create","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageInquiryDto"}}},"required":true},"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DetailedMessageDto"}}}}},"security":[{"apiKey":[]}]}},"/api/v1/authentication":{"post":{"tags":["login-endpoint"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLoginDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/health":{"get":{"tags":["custom-health-endpoint"],"operationId":"getHealth","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/health/prepareShutdown":{"get":{"tags":["custom-health-endpoint"],"operationId":"preShutdown","responses":{"200":{"description":"OK"}}}},"/api/v1/users/get":{"get":{"tags":["user-endpoint"],"operationId":"findUserByEmail","parameters":[{"name":"email","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplicationUserResponse"}}}}}}},"/api/v1/users/current":{"get":{"tags":["user-endpoint"],"operationId":"getUser","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplicationUserResponse"}}}}}}},"/api/v1/tickets/ticket/{id}":{"get":{"tags":["ticket-endpoint"],"operationId":"findById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TicketDetailsResponse"}}}}}},"delete":{"tags":["ticket-endpoint"],"operationId":"cancelReservedTicket","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"No Content"}}}},"/api/v1/tickets/mytickets":{"get":{"tags":["ticket-endpoint"],"operationId":"findForUser","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TicketDetailsResponse"}}}}}}}},"/api/v1/orders/order/{id}":{"get":{"tags":["order-endpoint"],"operationId":"findById_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderDetailsResponse"}}}}}},"delete":{"tags":["order-endpoint"],"operationId":"cancelOrder","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"No Content"}}}},"/api/v1/orders/myorders":{"get":{"tags":["order-endpoint"],"operationId":"findForUser_1","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrderSummaryResponse"}}}}}}}},"/api/v1/messages/{id}":{"get":{"tags":["message-endpoint"],"summary":"Get detailed information about a specific message","operationId":"find","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DetailedMessageDto"}}}}},"security":[{"apiKey":[]}]}}},"components":{"schemas":{"ApplicationUserDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"email":{"type":"string"},"password":{"type":"string"},"firstName":{"type":"string"},"familyName":{"type":"string"},"phoneNumber":{"type":"string"},"salt":{"type":"string"},"loginCount":{"type":"integer","format":"int32"},"accountLocked":{"type":"boolean"},"admin":{"type":"boolean"}}},"ApplicationUserResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"email":{"type":"string"},"firstName":{"type":"string"},"familyName":{"type":"string"},"phoneNumber":{"type":"string"},"accountLocked":{"type":"boolean"},"isAdmin":{"type":"boolean"}}},"UserCreateRequest":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"},"firstName":{"type":"string"},"familyName":{"type":"string"},"phoneNumber":{"type":"string"},"isAdmin":{"type":"boolean"}}},"MessageInquiryDto":{"required":["summary","text","title"],"type":"object","properties":{"title":{"maxLength":100,"minLength":0,"type":"string"},"summary":{"maxLength":500,"minLength":0,"type":"string"},"text":{"maxLength":10000,"minLength":0,"type":"string"}}},"DetailedMessageDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"publishedAt":{"type":"string","format":"date-time"},"title":{"type":"string"},"summary":{"type":"string"},"text":{"type":"string"}}},"UserLoginDto":{"required":["email","password"],"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"EventResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"description":{"type":"string"},"eventType":{"type":"string","enum":["CONCERT","THEATER","PLAY"]},"duration":{"type":"integer","format":"int64"}}},"HallSeatResponse":{"type":"object","description":"Hall-Seat","allOf":[{"$ref":"#/components/schemas/HallSpotResponse"},{"type":"object","properties":{"frontendCoordinates":{"type":"string"}}}]},"HallSectorResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"hallSectorShow":{"$ref":"#/components/schemas/HallSectorShowResponse"}}},"HallSectorShowResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"show":{"$ref":"#/components/schemas/ShowResponse"},"sector":{"$ref":"#/components/schemas/HallSectorResponse"},"price":{"type":"integer","format":"int64"}}},"HallSpotResponse":{"required":["type"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"sector":{"$ref":"#/components/schemas/HallSectorResponse"},"type":{"type":"string"}},"description":"Generic Hall-Spot","discriminator":{"propertyName":"type"}},"ShowResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"dateTime":{"type":"string","format":"date-time"},"event":{"$ref":"#/components/schemas/EventResponse"}}},"TicketDetailsResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"hash":{"type":"string"},"reserved":{"type":"boolean"},"valid":{"type":"boolean"},"hallSpot":{"oneOf":[{"$ref":"#/components/schemas/HallSpotResponse"},{"$ref":"#/components/schemas/HallSeatResponse"}]},"show":{"$ref":"#/components/schemas/ShowResponse"}}},"InvoiceResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"invoiceType":{"type":"string","enum":["PURCHASE","CANCELLATION"]},"dateTime":{"type":"string","format":"date-time"}}},"OrderDetailsResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"tickets":{"type":"array","items":{"$ref":"#/components/schemas/TicketDetailsResponse"}},"customer":{"$ref":"#/components/schemas/ApplicationUserResponse"},"invoices":{"type":"array","items":{"$ref":"#/components/schemas/InvoiceResponse"}},"dateTime":{"type":"string","format":"date-time"}}},"OrderSummaryResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"ticketCount":{"type":"integer","format":"int32"},"totalPrice":{"type":"integer","format":"int64"},"invoices":{"type":"array","items":{"$ref":"#/components/schemas/InvoiceResponse"}},"dateTime":{"type":"string","format":"date-time"}}},"SimpleMessageDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"publishedAt":{"type":"string","format":"date-time"},"title":{"type":"string"},"summary":{"type":"string"}}}}}}