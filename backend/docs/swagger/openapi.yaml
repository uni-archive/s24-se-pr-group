{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/api/v1/users/registration":{"post":{"tags":["user-endpoint"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreateRequest"}}},"required":true},"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/messages":{"get":{"tags":["message-endpoint"],"summary":"Get list of messages without details","operationId":"findAll","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SimpleMessageDto"}}}}}},"security":[{"apiKey":[]}]},"post":{"tags":["message-endpoint"],"summary":"Publish a new message","operationId":"create","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageInquiryDto"}}},"required":true},"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DetailedMessageDto"}}}}},"security":[{"apiKey":[]}]}},"/api/v1/authentication":{"post":{"tags":["login-endpoint"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLoginDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/health":{"get":{"tags":["custom-health-endpoint"],"operationId":"getHealth","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/health/prepareShutdown":{"get":{"tags":["custom-health-endpoint"],"operationId":"preShutdown","responses":{"200":{"description":"OK"}}}},"/api/v1/users/current":{"get":{"tags":["user-endpoint"],"operationId":"getUser","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplicationUserResponse"}}}}}}},"/api/v1/order/{id}":{"get":{"tags":["order-endpoint"],"operationId":"findById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderDetailsResponse"}}}}}}},"/api/v1/messages/{id}":{"get":{"tags":["message-endpoint"],"summary":"Get detailed information about a specific message","operationId":"find","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DetailedMessageDto"}}}}},"security":[{"apiKey":[]}]}}},"components":{"schemas":{"UserCreateRequest":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"},"firstName":{"type":"string"},"familyName":{"type":"string"},"phoneNumber":{"type":"string"},"isAdmin":{"type":"boolean"}}},"MessageInquiryDto":{"required":["summary","text","title"],"type":"object","properties":{"title":{"maxLength":100,"minLength":0,"type":"string"},"summary":{"maxLength":500,"minLength":0,"type":"string"},"text":{"maxLength":10000,"minLength":0,"type":"string"}}},"DetailedMessageDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"publishedAt":{"type":"string","format":"date-time"},"title":{"type":"string"},"summary":{"type":"string"},"text":{"type":"string"}}},"UserLoginDto":{"required":["email","password"],"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"ApplicationUserResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"email":{"type":"string"},"firstName":{"type":"string"},"familyName":{"type":"string"},"phoneNumber":{"type":"string"},"accountLocked":{"type":"boolean"},"isAdmin":{"type":"boolean"}}},"EventResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"description":{"type":"string"},"eventType":{"type":"string","enum":["CONCERT","THEATER","PLAY"]},"duration":{"type":"integer","format":"int64"}}},"HallSectorResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"hallSectorShow":{"$ref":"#/components/schemas/HallSectorShowResponse"}}},"HallSectorShowResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"show":{"$ref":"#/components/schemas/ShowResponse"},"sector":{"$ref":"#/components/schemas/HallSectorResponse"},"price":{"type":"integer","format":"int64"}}},"HallSpotResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"sector":{"$ref":"#/components/schemas/HallSectorResponse"}}},"InvoiceResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"invoiceType":{"type":"string","enum":["PURCHASE","CANCELLATION"]},"dateTime":{"type":"string","format":"date-time"}}},"OrderDetailsResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"tickets":{"type":"array","items":{"$ref":"#/components/schemas/TicketDetailsResponse"}},"customer":{"$ref":"#/components/schemas/ApplicationUserResponse"},"invoices":{"type":"array","items":{"$ref":"#/components/schemas/InvoiceResponse"}}}},"ShowResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"dateTime":{"type":"string","format":"date-time"},"event":{"$ref":"#/components/schemas/EventResponse"}}},"TicketDetailsResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"hash":{"type":"string"},"reserved":{"type":"boolean"},"valid":{"type":"boolean"},"hallSpot":{"$ref":"#/components/schemas/HallSpotResponse"},"show":{"$ref":"#/components/schemas/ShowResponse"}}},"SimpleMessageDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"publishedAt":{"type":"string","format":"date-time"},"title":{"type":"string"},"summary":{"type":"string"}}}}}}